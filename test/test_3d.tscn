[gd_scene load_steps=18 format=3 uid="uid://byyvlruxl0lyr"]

[ext_resource type="Script" uid="uid://djtam3ytikq2x" path="res://test/test_3d.gd" id="1_hwejf"]
[ext_resource type="PackedScene" uid="uid://cyksvq7i83dsn" path="res://rooms/Garden.tscn" id="2_7ihdq"]
[ext_resource type="Environment" uid="uid://05f3ymx6un2o" path="res://test/debugenviron.tres" id="2_clytf"]
[ext_resource type="PackedScene" uid="uid://diybgkyh6tl5u" path="res://Models/cabinet.tscn" id="3_umbvp"]
[ext_resource type="PackedScene" uid="uid://bp26lnpove7jm" path="res://player/player.tscn" id="4_eqngs"]
[ext_resource type="PackedScene" uid="uid://djdkqjeebynq6" path="res://Interactables/door.tscn" id="5_eqngs"]
[ext_resource type="PackedScene" uid="uid://bkibeq0l1vhxo" path="res://pickups/gate_key.tscn" id="6_eqngs"]
[ext_resource type="LightmapGIData" uid="uid://dru2mxapeub6o" path="res://test/test_3d.lmbake" id="7_0mw1u"]
[ext_resource type="PackedScene" uid="uid://dvx0du1rb1e3h" path="res://Interactables/reception_desk.tscn" id="7_7ihdq"]
[ext_resource type="PackedScene" uid="uid://ibrgmg4th3ew" path="res://rooms/Reception.tscn" id="8_7ihdq"]
[ext_resource type="PackedScene" uid="uid://elh30441suui" path="res://Models/chair.tscn" id="9_bh0pj"]
[ext_resource type="PackedScene" uid="uid://di3s73pkmnbs1" path="res://rooms/chapel.tscn" id="10_ttoic"]
[ext_resource type="PackedScene" uid="uid://bqpj3vxi1k1b6" path="res://Models/wheelchair.tscn" id="11_4r65r"]
[ext_resource type="PackedScene" uid="uid://0nrqrevdvaee" path="res://Models/lamp.tscn" id="11_pdtkk"]
[ext_resource type="PackedScene" uid="uid://by6j8i6exs5t" path="res://rooms/Corridor.tscn" id="15_clytf"]
[ext_resource type="PackedScene" uid="uid://bwjnrsi53kxod" path="res://rooms/stairwell.tscn" id="15_t176y"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_1vskb"]

[node name="Test_3D" type="Node3D"]
script = ExtResource("1_hwejf")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_clytf")

[node name="Player" parent="." instance=ExtResource("4_eqngs")]
wall_min_slide_angle = 0.261799

[node name="Door" parent="." instance=ExtResource("5_eqngs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.885394, -0.00733542, -4.11171)
mirror_for_opening = true

[node name="Door2" parent="." instance=ExtResource("5_eqngs")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 1.11461, -0.00733542, -4.1664)

[node name="LightmapGI" type="LightmapGI" parent="."]
interior = true
camera_attributes = SubResource("CameraAttributesPractical_1vskb")
generate_probes_subdiv = 1
light_data = ExtResource("7_0mw1u")

[node name="OmniLight3D2" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(0.969231, 0.0668158, 0.236911, 0, 0.962455, -0.27144, -0.246153, 0.263088, 0.932841, 16.2137, 5.54492, 9.69343)
visible = false

[node name="LampLight" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.58917, 1.84326, 8.3293)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight2" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.58681, 1.8402, 8.09493)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight3" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.44087, 1.9339, 8.18701)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight4" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.67391, 1.93735, 8.18533)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight5" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.54846, 1.84326, 8.3293)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight6" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.55082, 1.8402, 8.09493)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight7" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.69676, 1.9339, 8.18701)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="LampLight8" type="OmniLight3D" parent="LightmapGI"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.46372, 1.93735, 8.18533)
light_color = Color(0.46, 0.19918, 0.0874, 1)
light_bake_mode = 1

[node name="GateKey2" parent="." instance=ExtResource("6_eqngs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.280366, 1.02692, 8.15016)
collision_layer = 3
collision_mask = 3

[node name="GateKey" parent="." instance=ExtResource("6_eqngs")]
collision_layer = 3
collision_mask = 3

[node name="Room" type="Node" parent="."]

[node name="reception" parent="Room" instance=ExtResource("8_7ihdq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 9)

[node name="lamp" parent="Room/reception" instance=ExtResource("11_pdtkk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.56092, 0.999093, -0.78621)

[node name="lamp2" parent="Room/reception" instance=ExtResource("11_pdtkk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.55522, 0.999093, -0.78621)

[node name="ReceptionDesk" parent="Room/reception" node_paths=PackedStringArray("item_in_left_drawer") instance=ExtResource("7_7ihdq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000648379, 0, -0.20484)
collision_layer = 129
collision_mask = 129
item_in_left_drawer = NodePath("../../../GateKey")

[node name="Garden" parent="Room" instance=ExtResource("2_7ihdq")]

[node name="chapel" parent="Room" instance=ExtResource("10_ttoic")]
transform = Transform3D(-4.37114e-08, -4.37114e-08, -1, 4.37114e-08, 1, -4.37114e-08, 1, -4.37114e-08, -4.37114e-08, 13, 0, 9)

[node name="Corridor" parent="Room" instance=ExtResource("15_clytf")]
data = {
"cells": PackedInt32Array(2, 14, 1441792, 2, 15, 1048578, 2, 16, 1048578, 2, 17, 1048578, 2, 18, 1048578, 2, 19, 1048578, 2, 20, 1441799, 2, 22, 1048583, 2, 21, 1048582, 0, 21, 2, 4, 21, 2, 5, 21, 2, 6, 21, 2, 7, 21, 2, 8, 21, 2, 9, 21, 2, 65535, 21, 655362, 65534, 21, 655362, 65533, 21, 655362, 65532, 21, 655362, 65531, 21, 655362, 65530, 21, 655362, 2, 23, 1048578, 2, 24, 1048578, 2, 25, 1048578, 2, 26, 1048578, 2, 27, 1048578, 2, 28, 1048578, 65529, 21, 0, 2, 29, 1048576, 10, 21, 655360)
}

[node name="stairwell" parent="Room" instance=ExtResource("15_t176y")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -12, 0, 8)

[node name="Cabinet" parent="Room/stairwell" node_paths=PackedStringArray("item_in_top_drawer") instance=ExtResource("3_umbvp")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5.6631, -1.19209e-07, 2.6631)
item_in_top_drawer = NodePath("GateKey")

[node name="GateKey" parent="Room/stairwell/Cabinet" instance=ExtResource("6_eqngs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.843681, 0.862919, 0.277733)

[node name="Cabinet2" parent="Room/stairwell" node_paths=PackedStringArray("item_in_bottom_drawer") instance=ExtResource("3_umbvp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.29319, 0, 0.3961)
item_in_bottom_drawer = NodePath("GateKey")

[node name="GateKey" parent="Room/stairwell/Cabinet2" instance=ExtResource("6_eqngs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.843681, 0.862919, 0.277733)

[node name="Wheelchair" parent="Room/stairwell" instance=ExtResource("11_4r65r")]
transform = Transform3D(0.947053, 0, -0.321076, 0, 1, 0, 0.321076, 0, 0.947053, 1.31594, 5.15411, 1.41)

[node name="Wheelchair2" parent="Room/stairwell" instance=ExtResource("11_4r65r")]
transform = Transform3D(0.947053, 0, -0.321076, 0, 1, 0, 0.321076, 0, 0.947053, 1.124, 5.15411, 4.76314)

[node name="Wheelchair3" parent="Room/stairwell" instance=ExtResource("11_4r65r")]
transform = Transform3D(0.947053, 0, -0.321076, 0, 1, 0, 0.321076, 0, 0.947053, 0.24994, 5.15411, 4.32017)

[node name="Wheelchair4" parent="Room/stairwell" instance=ExtResource("11_4r65r")]
transform = Transform3D(0.947053, 0, -0.321076, 0, 1, 0, 0.321076, 0, 0.947053, -0.39493, 5.15411, 2.50069)

[node name="Chair" parent="Room/stairwell" instance=ExtResource("9_bh0pj")]
transform = Transform3D(1.72095e-08, -0.393708, -0.696415, -0.8, -3.49691e-08, 0, -3.04413e-08, 0.696415, -0.393708, 5.29168, 0.338657, 5.56393)

[node name="Chair2" parent="Room/stairwell" instance=ExtResource("9_bh0pj")]
transform = Transform3D(-3.49691e-08, 0, -0.8, 0, 0.8, 0, 0.8, 0, -3.49691e-08, 5.57948, -0.0722657, 4.05129)

[node name="Chair3" parent="Room/stairwell" instance=ExtResource("9_bh0pj")]
transform = Transform3D(-3.49691e-08, 0, -0.8, 0, 0.8, 0, 0.8, 0, -3.49691e-08, 5.57948, -0.0722657, 4.86377)

[node name="Chair4" parent="Room/stairwell" instance=ExtResource("9_bh0pj")]
transform = Transform3D(-3.49691e-08, 0, -0.8, 0, 0.8, 0, 0.8, 0, -3.49691e-08, 5.57948, -0.0722657, 0.9137)
